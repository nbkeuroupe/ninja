<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Rock Payment Terminal</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="terminal-container">
        <!-- Main application header -->
        <header>
            <div class="logo">
                <h1>Black Rock</h1>
                <span class="subtitle">Payment Terminal</span>
            </div>
            <div class="status-indicator">
                <span id="status-text">OFFLINE</span>
                <div id="status-light" class="status-light offline"></div>
            </div>
        </header>

        <!-- Dynamic Content Area -->
        <div id="app-container">
            <!-- 1. Login Page -->
            <div id="login-page" class="page active">
                <div class="login-form">
                    <h2>Admin Login</h2>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" placeholder="Enter username">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="Enter password">
                    </div>
                    <button id="login-btn" class="primary-btn">Login</button>
                    <div id="login-error" class="error-message"></div>
                </div>
            </div>

            <!-- 2. Payout Settings Page -->
            <div id="payout-page" class="page">
                <div class="page-header">
                    <h2>Payout Settings</h2>
                    <button id="next-to-card-btn" class="secondary-btn">Next</button>
                </div>
                <div class="payout-settings">
                    <div class="payout-tabs">
                        <button class="payout-tab active" data-tab="bank">Bank Account</button>
                        <button class="payout-tab" data-tab="crypto">Cryptocurrency</button>
                    </div>
                    <div class="payout-content active" id="bank-payout">
                        <div class="form-group">
                            <label for="bank-name">Bank Name</label>
                            <input type="text" id="bank-name" placeholder="Enter bank name">
                        </div>
                        <div class="form-group">
                            <label for="account-name">Account Name</label>
                            <input type="text" id="account-name" placeholder="Enter account name">
                        </div>
                        <div class="form-group">
                            <label for="account-number">Account Number</label>
                            <input type="text" id="account-number" placeholder="Enter account number">
                        </div>
                        <div class="form-group">
                            <label for="routing-number">Routing Number</label>
                            <input type="text" id="routing-number" placeholder="Enter routing number">
                        </div>
                        <div class="form-group">
                            <label for="swift-code">SWIFT Code (International)</label>
                            <input type="text" id="swift-code" placeholder="Optional">
                        </div>
                        <div class="form-group">
                            <label for="iban">IBAN (International)</label>
                            <input type="text" id="iban" placeholder="Optional">
                        </div>
                        <div class="button-group">
                            <button id="save-bank-btn" class="primary-btn">Save Bank Details</button>
                        </div>
                    </div>
                    <div class="payout-content" id="crypto-payout">
                        <div class="form-group">
                            <label for="crypto-currency">Cryptocurrency</label>
                            <select id="crypto-currency">
                                <option value="BTC">Bitcoin (BTC)</option>
                                <option value="ETH">Ethereum (ETH)</option>
                                <option value="USDT">Tether (USDT)</option>
                                <option value="USDC">USD Coin (USDC)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="wallet-address">Wallet Address</label>
                            <input type="text" id="wallet-address" placeholder="Enter wallet address">
                        </div>
                        <div class="form-group">
                            <label for="network">Network (for tokens)</label>
                            <select id="network">
                                <option value="">Not Applicable</option>
                                <option value="ETH">Ethereum</option>
                                <option value="BSC">Binance Smart Chain</option>
                                <option value="POLYGON">Polygon</option>
                                <option value="ARBITRUM">Arbitrum</option>
                            </select>
                        </div>
                        <div class="button-group">
                            <button id="save-crypto-btn" class="primary-btn">Save Crypto Details</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. Card Details Page -->
            <div id="card-details-page" class="page">
                <div class="page-header">
                    <h2>Card Details</h2>
                    <div class="button-group">
                        <button id="view-history-btn" class="secondary-btn">View History</button>
                        <button id="view-payout-btn" class="secondary-btn">Payout Settings</button>
                    </div>
                </div>
                <div class="real-time-messages">
                    <h3>Real-time Messages</h3>
                    <div id="mti-message-log" class="message-log"></div>
                </div>
                <div class="main-content">
                    <div class="payment-form">
                        <div class="form-group">
                            <label for="amount">Amount</label>
                            <div class="input-with-icon">
                                <span class="currency-symbol">$</span>
                                <input type="number" id="amount" step="0.01" min="0.01" placeholder="0.00">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="currency">Currency</label>
                            <select id="currency">
                                <option value="USD">USD - US Dollar</option>
                                <option value="EUR">EUR - Euro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="card-number">Card Number</label>
                            <input type="text" id="card-number" placeholder="XXXX XXXX XXXX XXXX">
                        </div>
                        <div class="form-row">
                            <div class="form-group half">
                                <label for="expiry">Expiry Date</label>
                                <input type="text" id="expiry" placeholder="MM/YY">
                            </div>
                            <div class="form-group half">
                                <label for="cvv">CVV</label>
                                <input type="text" id="cvv" placeholder="XXX">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cardholder">Cardholder Name</label>
                            <input type="text" id="cardholder" placeholder="Name on card">
                        </div>
                        <div class="form-group">
                            <label for="postal-code">Postal/ZIP Code</label>
                            <input type="text" id="postal-code" placeholder="Optional">
                        </div>
                        <div class="form-group">
                            <label for="protocol">Protocol</label>
                            <select id="protocol">
                                <option value="POS Terminal -101.1 (4-digit approval)">POS Terminal -101.1 (4-digit approval)</option>
                                <option value="POS Terminal -101.4 (6-digit approval)">POS Terminal -101.4 (6-digit approval)</option>
                                <option value="POS Terminal -101.6 (Pre-authorization)">POS Terminal -101.6 (Pre-authorization)</option>
                                <option value="POS Terminal -101.7 (4-digit approval)">POS Terminal -101.7 (4-digit approval)</option>
                                <option value="POS Terminal -101.8 (PIN-LESS transaction)">POS Terminal -101.8 (PIN-LESS transaction)</option>
                                <option value="POS Terminal -201.1 (6-digit approval)">POS Terminal -201.1 (6-digit approval)</option>
                                <option value="POS Terminal -201.3 (6-digit approval)">POS Terminal -201.3 (6-digit approval)</option>
                                <option value="POS Terminal -201.5 (6-digit approval)">POS Terminal -201.5 (6-digit approval)</option>
                            </select>
                        </div>
                        <div class="form-group" id="auth-code-container">
                            <label for="auth-code">Auth Code</label>
                            <input type="text" id="auth-code" placeholder="Enter auth code">
                            <span class="auth-code-hint">Required for this protocol</span>
                        </div>
                        <div class="form-group">
                            <label for="transaction-type">Transaction Type</label>
                            <select id="transaction-type">
                                <option value="SALE">Sale</option>
                                <option value="REFUND">Refund</option>
                                <option value="PRE_AUTH">Pre-Authorization</option>
                                <option value="PRE_AUTH_COMPLETION">Pre-Auth Completion</option>
                                <option value="BALANCE_INQUIRY">Balance Inquiry</option>
                            </select>
                        </div>
                        <div class="button-group">
                            <button id="process-btn" class="primary-btn">Process Payment</button>
                            <button id="clear-btn" class="secondary-btn">Clear</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. Processing Page -->
            <div id="processing-page" class="page processing-page">
                <h2>Processing...</h2>
                <div class="spinner"></div>
                <p>Please wait while the transaction is being processed.</p>
            </div>

            <!-- 5. Success Page -->
            <div id="success-page" class="page status-page">
                <div class="status-content">
                    <div class="status-icon success-icon">✔</div>
                    <h2>Transaction Approved!</h2>
                    <p>Your payment was processed successfully.</p>
                    <div id="success-message-details"></div>
                    <button id="return-home-success-btn" class="primary-btn">Return to Card Details</button>
                </div>
            </div>

            <!-- 6. Reject Page -->
            <div id="reject-page" class="page status-page">
                <div class="status-content">
                    <div class="status-icon reject-icon">✖</div>
                    <h2>Transaction Failed</h2>
                    <p>Your payment could not be processed.</p>
                    <div id="reject-message-details"></div>
                    <button id="return-home-reject-btn" class="primary-btn">Return to Card Details</button>
                </div>
            </div>

            <!-- 7. Transaction History Page -->
            <div id="history-page" class="page">
                <div class="page-header">
                    <h2>Transaction History</h2>
                    <button id="back-to-card-from-history-btn" class="secondary-btn">Back to Card Details</button>
                </div>
                <div class="transaction-history">
                    <div class="history-table-container">
                        <table id="history-table">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Type</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="history-body">
                                <tr class="placeholder-row">
                                    <td colspan="5">No transactions yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main application footer -->
        <footer>
            <div class="terminal-info">
                <span>Terminal ID: <span id="terminal-id">--</span></span>
                <span>Merchant ID: <span id="merchant-id">--</span></span>
            </div>
            <div class="version-info">
                <span>Black Rock Payment Terminal v1.0</span>
            </div>
        </footer>
    </div>

    <!-- Receipt Modal -->
    <div class="modal" id="receipt-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Receipt</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div id="receipt-container"></div>
            </div>
            <div class="modal-footer">
                <button id="print-receipt-btn" class="primary-btn">Print</button>
                <button id="close-receipt-btn" class="secondary-btn">Close</button>
            </div>
        </div>
    </div>
</body>
</html>
